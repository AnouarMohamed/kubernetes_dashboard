<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cluster Control Dashboard</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.7.2/dist/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Cluster Control</h2>
                <div class="cluster-status">
                    <span class="status-indicator active"></span>
                    <span>Connected</span>
                </div>
            </div>
            
            <div class="sidebar-nav">
                <button class="nav-btn active" data-section="dashboard">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Dashboard
                </button>
                <button class="nav-btn" data-section="nodes">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M12 3L1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"/>
                    </svg>
                    Nodes
                </button>
                <button class="nav-btn" data-section="pods">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"/>
                    </svg>
                    Pods
                </button>
                
                <div class="sidebar-divider"></div>
                
                <button class="nav-btn" data-section="terminal">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"/>
                    </svg>
                    Terminal
                </button>
                <button class="nav-btn" id="scan-button">
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor" d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"/>
                    </svg>
                    Security Scan
                </button>
            </div>
            
            <div class="sidebar-footer">
                <div class="system-load">
                    <div class="load-metric">
                        <span>CPU</span>
                        <span id="sidebar-cpu-value">0%</span>
                    </div>
                    <div class="meter-bar">
                        <div id="sidebar-cpu" class="fill"></div>
                    </div>
                </div>
                <div class="node-count">
                    <span>Nodes:</span>
                    <span id="sidebar-node-count">0</span>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <header>
                <h1>Kubernetes Dashboard</h1>
                <div class="header-info">
                    <div class="alert-badge" id="alert-badge">0</div>
                    <div class="last-updated" id="last-updated">Last updated: Never</div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard-section" class="tab-content">
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h3>Cluster Overview</h3>
                        <div class="metric-group">
                            <div class="metric-item">
                                <span class="label">Active Pods</span>
                                <span id="pod-count" class="value">0</span>
                            </div>
                            <div class="metric-item">
                                <span class="label">CPU Usage</span>
                                <span id="cpu-usage" class="value">0%</span>
                            </div>
                            <div class="metric-item">
                                <span class="label">Memory Usage</span>
                                <span id="memory-usage" class="value">0%</span>
                            </div>
                            <div class="metric-item">
                                <span class="label">Daily Cost</span>
                                <span id="cost-display" class="value">$--.--</span>
                            </div>
                        </div>
                    </div>

                    <div class="metric-card wide">
                        <h3>Resource Usage</h3>
                        <div class="chart-container">
                            <canvas id="resource-chart"></canvas>
                        </div>
                    </div>

                    <div class="metric-card">
                        <h3>Security Status</h3>
                        <div class="scan-results">
                            <h4>Last Scan Results</h4>
                            <ul id="scan-results-list"></ul>
                        </div>
                    </div>

                    <div class="metric-card tall">
                        <h3>Cluster Events</h3>
                        <div id="cluster-logs" class="logs"></div>
                        <button id="clear-logs" class="btn-secondary">Clear Logs</button>
                    </div>

                    <div class="metric-card">
                        <h3>Cost Breakdown</h3>
                        <ul id="cost-breakdown-list"></ul>
                    </div>
                </div>
            </section>

            <!-- Nodes Section -->
            <section id="nodes-section" class="tab-content hidden">
                <div class="section-header">
                    <h2>Node Management</h2>
                    <div class="search-bar">
                        <input type="text" id="node-search" placeholder="Search nodes...">
                    </div>
                </div>
                <div id="node-list" class="node-grid"></div>
            </section>

            <!-- Pods Section -->
            <section id="pods-section" class="tab-content hidden">
                <div class="section-header">
                    <h2>Pod Management</h2>
                    <div class="search-bar">
                        <input type="text" id="pod-search" placeholder="Search pods...">
                    </div>
                </div>
                <div class="table-container">
                    <table id="pod-list">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Status</th>
                                <th>Node</th>
                                <th>Age</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>

            <!-- Terminal Section -->
            <section id="terminal-section" class="tab-content hidden">
                <div class="section-header">
                    <h2>Cluster Terminal</h2>
                </div>
                <div id="terminal-container"></div>
            </section>
        </div>
    </div>

    <script src="/static/js/main.js"></script>
</body>
</html>
